package com.zhd.exploit.utils.common;

import java.util.Objects;

/**
 * 
 * @author zhanghaodong
 * @version v1.0
 * @date 2018年10月17日 下午2:15:55
 * @work
 */
public class CommonUtils {

	/**
	 * private constructor
	 */
	private CommonUtils() {
	}

	/**
	 * 匹配对象是否存在于数组中
	 * 
	 * @param src 待匹配对象
	 * @param destArr 待匹配数组
	 * @return
	 */
	@SafeVarargs
	public static <T> boolean matches(T src, T... destArr) {

		if (destArr == null || destArr.length == 0) {
			return false;
		}

		for (T t : destArr) {
			if (t == src) {
				return true;
			}
			if (t.equals(src)) {
				return true;
			}
		}

		return false;
	}

	/**
	 * 默认值保护
	 * 
	 * @param value 表达式值
	 * @param defaultValue 默认值
	 * @return
	 */
	public static <T> T defaultVaule(T value, T defaultValue) {

		if (Objects.nonNull(value)) {
			return value;
		}

		return defaultValue;
	}

	/**
	 * Returns an array containing the given arguments.
	 * 
	 * @param <T> the type of the array to return.
	 * @param values the values to store in the array.
	 * @return an array containing the given arguments.
	 */
	@SafeVarargs
	public static <T> T[] array(T... values) {
		return values;
	}

	/**
	 * 示例：1,2,3 移除2后 1,3
	 * @param aggregate
	 * @param tagert
	 * @return
	 */
	public static String remove(String aggregate, String tagert) {
		if (StringUtils.isBlank(aggregate)) {
			return "";
		}
		String[] arr = aggregate.split(",");
		StringBuilder builder = new StringBuilder();
		for (int i = 0; i < arr.length; i++) {
			if (!arr[i].equals(tagert)) {
				if (builder.length() > 0) {
					builder.append(",");
				}
				builder.append(arr[i]);
			}
		}

		return builder.toString();
	}
	public static void main(String[] args) {
		System.out.println(remove("23,2", "2"));
	}
}
